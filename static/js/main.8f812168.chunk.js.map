{"version":3,"sources":["store/Obstacles/Obstacles.ts","store/Grid/selectors.ts","store/Obstacles/index.ts","store/reducers.ts","store/store.ts","components/Menu.tsx","interactions/index.ts","service/store.ts","service/Bfs.ts","components/GridItem.tsx","components/NumberGrid.tsx","service/AdjacencyList.ts","App.tsx","reportWebVitals.ts","index.tsx","store/Grid/index.ts","store/Grid/Grid.ts"],"names":["actionCreator","actionCreatorFactory","obstaclesActionCreators","ADD_GRID_ITEM","REMOVE_GRID_ITEM","CLEAR_OBSTACLE","obstaclesReducer","makeReducer","obstacles","case","state","uuid","_","push","obstacle","getGridState","grid","getGridRowsCols","rows","cols","createRootReducer","combineReducers","gridReducer","devToolsExtension","window","__REDUX_DEVTOOLS_EXTENSION__","f","DrawTools","Title","Typography","Text","Option","Select","Menu","useState","drawTool","setDrawTool","useSelector","dispatch","useDispatch","handleDrawToolClick","tool","className","level","strong","title","placement","type","DrawStartNode","onClick","NodeExpandOutlined","DrawEndNode","NodeCollapseOutlined","DrawObstacle","StopOutlined","placeholder","value","min","max","onChange","val","gridActionCreators","SET_COL","SET_ROW","mouseClick$","fromEvent","document","keyDown$","keyUp$","pipe","takeUntil","findPath$","adjList","start","end","path","target","queue","found","Set","length","add","curr","shift","undefined","has","neighbours","Bfs","from","concatMap","x","of","delay","GridItem","path$","setFound","useEffect","subSink","SubSink","sink","subscribe","foundNum","unsubscribe","classnames","id","toString","NumberGrid","startingNode","setStartingNode","numRows","numCols","DIRECTIONS","chunk","range","forEach","row","i","entry","j","dir","nextRow","nextCol","AdjacencyList","parseInt","map","gutter","wrap","col","App","setKeyPressed","key","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","createStore","compose","ReactDOM","render","getElementById","withinDimensions","newDimension","INC_COL","DEC_COL","INC_ROW","DEC_ROW","newCols","newRows"],"mappings":"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","file":"static/js/main.8f812168.chunk.js","sourcesContent":["import * as _ from \"lodash\";\n\nimport actionCreatorFactory from \"typescript-fsa\";\nimport { reducerWithInitialState as makeReducer } from \"typescript-fsa-reducers\";\n\nimport { ObstaclesState } from \"./types\";\n\nconst actionCreator = actionCreatorFactory(\"OBSTACLES\");\n\nconst INITIAL_STATE: ObstaclesState = {\n\tobstacles: [],\n};\n\nexport const obstaclesActionCreators = {\n\tADD_GRID_ITEM: actionCreator<string>(\"ADD_GRID_ITEM\"),\n\tREMOVE_GRID_ITEM: actionCreator<string>(\"REMOVE_GRID_ITEM\"),\n\tCLEAR_OBSTACLE: actionCreator(\"CLEAR_OBSTACLE\"),\n};\n\nexport const obstaclesReducer = makeReducer(INITIAL_STATE)\n\t.case(\n\t\tobstaclesActionCreators.ADD_GRID_ITEM,\n\t\t(state: ObstaclesState, uuid: string) => {\n\t\t\tconst obstacles = _.cloneDeep(state.obstacles);\n\t\t\tif (!_.some(obstacles, { uuid })) {\n\t\t\t\tobstacles.push({ uuid });\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tobstacles,\n\t\t\t};\n\t\t}\n\t)\n\t.case(\n\t\tobstaclesActionCreators.REMOVE_GRID_ITEM,\n\t\t(state: ObstaclesState, uuid: string) => ({\n\t\t\t...state,\n\t\t\tobstacles: _.remove(\n\t\t\t\tstate.obstacles,\n\t\t\t\t(obstacle) => obstacle.uuid === uuid\n\t\t\t),\n\t\t})\n\t)\n\t.case(\n\t\tobstaclesActionCreators.CLEAR_OBSTACLE,\n\t\t(state: ObstaclesState) => state\n\t);\n","import { State } from \"store/state\";\n\nconst getGridState = (state: State) => state.grid;\n\nexport const getGridRowsCols = (state: State) => ({\n\trows: getGridState(state).rows,\n\tcols: getGridState(state).cols,\n});\n","export * from \"./Obstacles\";\nexport * from \"./selectors\";\nexport * from \"./types\";\n","import { combineReducers } from \"redux\";\n\nimport { gridReducer } from \"store/Grid/Grid\";\n\nimport { obstaclesReducer } from \"./Obstacles\";\nimport { State } from \"./state\";\n\nconst createRootReducer = () =>\n\tcombineReducers<State>({\n\t\tobstacles: obstaclesReducer,\n\t\tgrid: gridReducer,\n\t});\n\nexport default createRootReducer;\n","import { compose, createStore, StoreEnhancer } from \"redux\";\n\nimport createRootReducer from \"./reducers\";\n\ninterface HasDevToolsExtension {\n\t__REDUX_DEVTOOLS_EXTENSION__: () => StoreEnhancer;\n}\n\nconst devToolsExtension: StoreEnhancer =\n\ttypeof window === \"object\" &&\n\t((window as unknown) as Window & HasDevToolsExtension)\n\t\t.__REDUX_DEVTOOLS_EXTENSION__\n\t\t? ((window as unknown) as Window &\n\t\t\t\tHasDevToolsExtension).__REDUX_DEVTOOLS_EXTENSION__()\n\t\t: (f) => f;\n\nexport function initStore() {\n\tconst store = createStore(createRootReducer(), compose(devToolsExtension));\n\treturn store;\n}\n","import {\n\tNodeCollapseOutlined,\n\tNodeExpandOutlined,\n\tStopOutlined,\n} from \"@ant-design/icons\";\nimport { Button, Form, InputNumber, Select, Tooltip, Typography } from \"antd\";\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { getGridRowsCols, gridActionCreators } from \"store/Grid\";\n\nconst { Title, Text } = Typography;\nconst { Option } = Select;\n\n// TODO: refactor to tools store\nexport enum DrawTools {\n\tDrawObstacle,\n\tDrawEndNode,\n\tDrawStartNode,\n}\n\nexport default function Menu() {\n\tconst [drawTool, setDrawTool] = useState<DrawTools | null>();\n\n\tconst { rows, cols } = useSelector(getGridRowsCols);\n\tconst dispatch = useDispatch();\n\tconst handleDrawToolClick = (tool: DrawTools) => {\n\t\tif (drawTool === tool) {\n\t\t\tsetDrawTool(null);\n\t\t} else {\n\t\t\tsetDrawTool(tool);\n\t\t}\n\t};\n\treturn (\n\t\t<div className=\"vh-100 w-300px p-10 border-right-gray\">\n\t\t\t<Title level={3}>Pathfinding</Title>\n\t\t\t<Text strong>Tools</Text>\n\t\t\t<div className=\"w-100p d-flex justify-start mt-10 mb-20\">\n\t\t\t\t<Tooltip title=\"Draw Starting Node\" placement=\"bottomRight\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype={drawTool === DrawTools.DrawStartNode ? \"primary\" : \"default\"}\n\t\t\t\t\t\tonClick={() => handleDrawToolClick(DrawTools.DrawStartNode)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<NodeExpandOutlined />\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Tooltip title=\"Draw Ending Node\" placement=\"bottomRight\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype={drawTool === DrawTools.DrawEndNode ? \"primary\" : \"default\"}\n\t\t\t\t\t\tonClick={() => handleDrawToolClick(DrawTools.DrawEndNode)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<NodeCollapseOutlined />\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Tooltip title=\"Draw Obstacles\" placement=\"bottomRight\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype={drawTool === DrawTools.DrawObstacle ? \"primary\" : \"default\"}\n\t\t\t\t\t\tonClick={() => handleDrawToolClick(DrawTools.DrawObstacle)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<StopOutlined />\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t</div>\n\t\t\t<Text strong>Algorithm</Text>\n\t\t\t<Select className=\"w-100p mt-10 mb-20\" placeholder=\"Select Algorithm\">\n\t\t\t\t<Option value=\"1\">Breadth First Search</Option>\n\t\t\t\t<Option value=\"2\">Depth First Search</Option>\n\t\t\t</Select>\n\t\t\t<Text strong>Grid Size</Text>\n\t\t\t<Form className=\"mt-10 mb-20\">\n\t\t\t\t<Tooltip title=\"Width\" placement=\"bottomRight\">\n\t\t\t\t\t<InputNumber\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tmax={50}\n\t\t\t\t\t\tvalue={cols}\n\t\t\t\t\t\tonChange={(val) =>\n\t\t\t\t\t\t\ttypeof val === \"number\" &&\n\t\t\t\t\t\t\tdispatch(gridActionCreators.SET_COL(val))\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Tooltip title=\"Height\" placement=\"bottomRight\">\n\t\t\t\t\t<InputNumber\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tmax={50}\n\t\t\t\t\t\tvalue={rows}\n\t\t\t\t\t\tonChange={(val) =>\n\t\t\t\t\t\t\ttypeof val === \"number\" &&\n\t\t\t\t\t\t\tdispatch(gridActionCreators.SET_ROW(val))\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Tooltip>\n\t\t\t</Form>\n\t\t\t<Button className=\"w-100p\" type=\"primary\">\n\t\t\t\tStart Pathfinding\n\t\t\t</Button>\n\t\t</div>\n\t);\n}\n","import { fromEvent } from \"rxjs\";\nimport { takeUntil } from \"rxjs/operators\";\n\nconst mouseClick$ = fromEvent<MouseEvent>(document, \"click\");\nconst keyDown$ = fromEvent<KeyboardEvent>(document, \"keydown\");\nconst keyUp$ = fromEvent<KeyboardEvent>(document, \"keyup\");\n\nconst whileKeyPress$ = keyDown$.pipe(takeUntil(keyUp$));\n\nexport { mouseClick$, whileKeyPress$, keyDown$, keyUp$ };\n","import { from, of } from \"rxjs\";\nimport { concatMap, delay } from \"rxjs/operators\";\n\nimport { IAdjacencyList } from \"service/AdjacencyList\";\nimport Bfs from \"service/Bfs\";\n\nexport function findPath$(\n\tadjList: IAdjacencyList,\n\tstart: number,\n\tend?: number\n) {\n\tconst path = Bfs(adjList, start, end);\n\tif (!path) {\n\t\treturn;\n\t}\n\treturn from(path).pipe(concatMap((x) => of(x).pipe(delay(50))));\n}\n","import { IAdjacencyList } from \"service/AdjacencyList\";\n\nexport default function Bfs(\n\tadjList: IAdjacencyList,\n\tstart: number,\n\ttarget?: number\n) {\n\tconst queue: number[] = [];\n\tconst found: Set<number> = new Set();\n\n\tif (!adjList[start] || adjList[start].length === 0) {\n\t\treturn null;\n\t}\n\n\tqueue.push(...adjList[start]);\n\tfound.add(start);\n\n\twhile (queue.length > 0) {\n\t\tconst curr = queue.shift();\n\t\tif (curr === undefined || found.has(curr)) {\n\t\t\tcontinue;\n\t\t}\n\t\tfound.add(curr);\n\t\tif (curr === target) {\n\t\t\tbreak;\n\t\t}\n\t\tconst neighbours = adjList[curr];\n\t\tqueue.push(...neighbours);\n\t}\n\n\treturn found;\n}\n","import classnames from \"classnames\";\nimport React, { useEffect, useState } from \"react\";\nimport { Observable } from \"rxjs\";\nimport { SubSink } from \"subsink\";\n\ninterface GridItemProps {\n\tuuid: number;\n\tstart: number;\n\tpath$: Observable<number>;\n}\n\nexport default function GridItem({ uuid, start, path$ }: GridItemProps) {\n\tconst [found, setFound] = useState(false);\n\n\tuseEffect(() => {\n\t\tconst subSink = new SubSink();\n\t\tsubSink.sink = path$.subscribe((foundNum) => {\n\t\t\tif (foundNum === uuid) {\n\t\t\t\tsetFound(true);\n\t\t\t}\n\t\t});\n\n\t\treturn () => subSink.unsubscribe();\n\t});\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classnames(\n\t\t\t\t\"grid-item\",\n\t\t\t\t{ \"grid-item-start\": start === uuid },\n\t\t\t\t{ \"grid-item-found\": found }\n\t\t\t)}\n\t\t\tid={uuid.toString()}\n\t\t>\n\t\t\t{uuid}\n\t\t</div>\n\t);\n}\n","import { Col, Row } from \"antd\";\nimport { chunk, range } from \"lodash\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { SubSink } from \"subsink\";\n\nimport { mouseClick$ } from \"interactions\";\nimport AdjacencyList from \"service/AdjacencyList\";\nimport { findPath$ } from \"service/store\";\nimport { getGridRowsCols } from \"store/Grid\";\n\nimport GridItem from \"./GridItem\";\n\nexport default function NumberGrid() {\n\tconst [startingNode, setStartingNode] = useState<string>(\"1\");\n\n\tconst { rows: numRows, cols: numCols } = useSelector(getGridRowsCols);\n\n\tuseEffect(() => {\n\t\tconst subSink = new SubSink();\n\t\tsubSink.sink = mouseClick$.subscribe(({ target }) => {\n\t\t\t// TODO: combine with key down\n\t\t\tconst targetElement = target as HTMLElement;\n\t\t\tsetStartingNode(targetElement.id);\n\t\t});\n\t\treturn () => {\n\t\t\tsubSink.unsubscribe();\n\t\t};\n\t}, []);\n\n\tconst adjList = AdjacencyList(numRows, numCols);\n\tconst path$ = findPath$(adjList, parseInt(startingNode));\n\n\tif (!path$) {\n\t\treturn null;\n\t}\n\n\tconst grid = range(0, numRows * numCols, 1);\n\tconst rows = chunk(grid, numCols);\n\n\treturn (\n\t\t<div className=\"number-grid-container d-flex justify-center align-center\">\n\t\t\t<div className=\"overflow-auto\">\n\t\t\t\t{rows.map((cols, i) => (\n\t\t\t\t\t<Row gutter={0} key={i} wrap={false}>\n\t\t\t\t\t\t{cols.map((col, j) => (\n\t\t\t\t\t\t\t<Col key={j}>\n\t\t\t\t\t\t\t\t<GridItem\n\t\t\t\t\t\t\t\t\tuuid={col}\n\t\t\t\t\t\t\t\t\tstart={parseInt(startingNode)}\n\t\t\t\t\t\t\t\t\tpath$={path$}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Row>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import { chunk, range } from \"lodash\";\n\nexport interface IAdjacencyList {\n\t[key: number]: number[];\n}\n\nexport default function AdjacencyList(rows: number, cols: number) {\n\tconst DIRECTIONS = [\n\t\t[-1, -1],\n\t\t[-1, 0],\n\t\t[-1, 1],\n\t\t[0, 1],\n\t\t[0, -1],\n\t\t[1, 1],\n\t\t[1, 0],\n\t\t[1, -1],\n\t];\n\n\tconst grid = chunk(range(0, rows * cols, 1), cols);\n\n\tconst adjList: IAdjacencyList = {};\n\tgrid.forEach((row, i) => {\n\t\trow.forEach((entry, j) => {\n\t\t\tconst curr: number[] = [];\n\t\t\tDIRECTIONS.forEach((dir) => {\n\t\t\t\tconst nextRow = i + dir[0];\n\t\t\t\tconst nextCol = j + dir[1];\n\t\t\t\tif (\n\t\t\t\t\tnextRow < 0 ||\n\t\t\t\t\tnextRow >= grid.length ||\n\t\t\t\t\tnextCol < 0 ||\n\t\t\t\t\tnextCol >= grid[0].length\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcurr.push(grid[nextRow][nextCol]);\n\t\t\t});\n\n\t\t\tadjList[entry] = curr;\n\t\t});\n\t});\n\n\treturn adjList;\n}\n","import React, { useEffect, useState } from \"react\";\nimport { SubSink } from \"subsink\";\n\nimport Menu from \"components/Menu\";\nimport NumberGrid from \"components/NumberGrid\";\nimport { keyDown$, keyUp$ } from \"interactions\";\n\nimport \"./App.css\";\n\nexport function App() {\n\tconst [, setKeyPressed] = useState<string | null>();\n\n\tuseEffect(() => {\n\t\tconst subSink = new SubSink();\n\n\t\tsubSink.sink = keyDown$.subscribe(({ key }) => {\n\t\t\tsetKeyPressed(key);\n\t\t});\n\n\t\tsubSink.sink = keyUp$.subscribe(() => {\n\t\t\tsetKeyPressed(null);\n\t\t});\n\n\t\treturn () => {\n\t\t\tsubSink.unsubscribe();\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<Menu />\n\t\t\t<NumberGrid />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry);\n\t\t\tgetFID(onPerfEntry);\n\t\t\tgetFCP(onPerfEntry);\n\t\t\tgetLCP(onPerfEntry);\n\t\t\tgetTTFB(onPerfEntry);\n\t\t});\n\t}\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport { initStore } from \"store/store\";\n\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport \"./index.css\";\n\nconst store = initStore();\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export * from \"./selectors\";\nexport * from \"./Grid\";\nexport * from \"./types\";\n","import { GridState } from \"store/Grid/types\";\nimport actionCreatorFactory from \"typescript-fsa\";\nimport { reducerWithInitialState as makeReducer } from \"typescript-fsa-reducers\";\n\nconst actionCreator = actionCreatorFactory(\"GRID\");\n\nconst INITIAL_STATE: GridState = {\n\trows: 10,\n\tcols: 10,\n};\n\nconst MAX_DIMENSION = 50;\nconst MIN_DIMENSION = 1;\n\nexport function withinDimensions(newDimension: number) {\n\treturn newDimension <= MAX_DIMENSION && newDimension > MIN_DIMENSION;\n}\n\nexport const gridActionCreators = {\n\tINC_COL: actionCreator(\"INC_COL\"), // TODO: future extension with keyboard\n\tDEC_COL: actionCreator(\"DEC_COL\"),\n\tINC_ROW: actionCreator(\"INC_ROW\"),\n\tDEC_ROW: actionCreator(\"DEC_ROW\"),\n\tSET_ROW: actionCreator<number>(\"SET_ROW\"),\n\tSET_COL: actionCreator<number>(\"SET_COL\"),\n};\n\nexport const gridReducer = makeReducer(INITIAL_STATE)\n\t.case(gridActionCreators.INC_COL, (state: GridState) => ({\n\t\t...state,\n\t\tcols: withinDimensions(state.cols + 1) ? state.cols + 1 : state.cols,\n\t}))\n\t.case(gridActionCreators.DEC_COL, (state: GridState) => ({\n\t\t...state,\n\t\tcols: withinDimensions(state.cols - 1) ? state.cols - 1 : state.cols,\n\t}))\n\t.case(gridActionCreators.INC_ROW, (state: GridState) => ({\n\t\t...state,\n\t\trows: withinDimensions(state.rows + 1) ? state.rows + 1 : state.rows,\n\t}))\n\t.case(gridActionCreators.DEC_ROW, (state: GridState) => ({\n\t\t...state,\n\t\trows: withinDimensions(state.rows - 1) ? state.rows - 1 : state.rows,\n\t}))\n\t.case(gridActionCreators.SET_COL, (state: GridState, newCols: number) => ({\n\t\t...state,\n\t\tcols: withinDimensions(newCols) ? newCols : state.cols,\n\t}))\n\t.case(gridActionCreators.SET_ROW, (state: GridState, newRows: number) => ({\n\t\t...state,\n\t\trows: withinDimensions(newRows) ? newRows : state.rows,\n\t}));\n"],"sourceRoot":""}